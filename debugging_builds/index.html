



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/octopus-black-32.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-4.6.3">
    
    
      
        <title>Debugging Builds - Foliant</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.adb8469c.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
      <script src="../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:300,400,400i,700%7CPT+Mono&display=fallback">
        <style>body,input{font-family:"PT Sans","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"PT Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-120535275-2", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  <link rel="alternate" type="application/rss+xml" title="History of Releases" href="https://foliant-docs.github.io/docs/rss.xml">

  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="rgba(0,-0,-0,-0.87)" data-md-color-accent="light-blue">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#debugging-builds" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Foliant" aria-label="Foliant" class="md-header-nav__button md-logo">
          
            <img alt="logo" src="../assets/images/octopus-white.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Foliant
            </span>
            <span class="md-header-nav__topic">
              
                Debugging Builds
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/foliant-docs/docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    foliant-docs/docs
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="Foliant" class="md-nav__button md-logo">
      
        <img alt="logo" src="../assets/images/octopus-white.svg" width="48" height="48">
      
    </a>
    Foliant
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/foliant-docs/docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    foliant-docs/docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Welcome to Foliant!" class="md-nav__link">
      Welcome to Foliant!
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../installation/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../quickstart/" title="Quickstart" class="md-nav__link">
      Quickstart
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../architecture/" title="Architecture And Basic Design Concepts" class="md-nav__link">
      Architecture And Basic Design Concepts
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../config/" title="Project Configuration" class="md-nav__link">
      Project Configuration
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Debugging Builds
      </label>
    
    <a href="./" title="Debugging Builds" class="md-nav__link md-nav__link--active">
      Debugging Builds
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#notes-on-docker-use" class="md-nav__link">
    Notes on Docker Use
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-foliant-in-the-debug-mode" class="md-nav__link">
    Running Foliant in the Debug Mode
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-pre-backend-and-target-and-keeping-the-working-directory" class="md-nav__link">
    The pre Backend and Target, and Keeping the Working Directory
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#killing-two-birds-with-one-stone" class="md-nav__link">
    Killing Two Birds With One Stone
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/full_docker/" title="Working Full Foliant Docker image" class="md-nav__link">
      Working Full Foliant Docker image
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/api/" title="Documenting API with Foliant" class="md-nav__link">
      Documenting API with Foliant
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-3" type="checkbox" id="nav-7-3">
    
    <label class="md-nav__link" for="nav-7-3">
      Documenting Databases with Foliant
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-3">
        Documenting Databases with Foliant
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/db/db/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/db/dbml/" title="Documenting DBML schema" class="md-nav__link">
      Documenting DBML schema
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/db/oracle/" title="Documenting Oracle Database" class="md-nav__link">
      Documenting Oracle Database
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/db/pgsql/" title="Documenting PostgreSQL Database" class="md-nav__link">
      Documenting PostgreSQL Database
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/dev_reference/" title="Developer’s Reference" class="md-nav__link">
      Developer’s Reference
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../meta/" title="Metadata" class="md-nav__link">
      Metadata
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Backends
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Backends
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../backends/aglio/" title="Aglio" class="md-nav__link">
      Aglio
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../backends/confluence/" title="Confluence" class="md-nav__link">
      Confluence
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../backends/mdtopdf/" title="MdToPdf" class="md-nav__link">
      MdToPdf
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../backends/mkdocs/" title="MkDocs" class="md-nav__link">
      MkDocs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../backends/pandoc/" title="Pandoc" class="md-nav__link">
      Pandoc
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../backends/slate/" title="Slate" class="md-nav__link">
      Slate
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Preprocessors
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Preprocessors
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/general_notes/" title="General Notes" class="md-nav__link">
      General Notes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/admonitions/" title="Admonitions" class="md-nav__link">
      Admonitions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/anchors/" title="Anchors" class="md-nav__link">
      Anchors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/apilinks/" title="APILinks" class="md-nav__link">
      APILinks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/archeme/" title="Archeme" class="md-nav__link">
      Archeme
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/badges/" title="Badges" class="md-nav__link">
      Badges
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/bindfigma/" title="BindFigma" class="md-nav__link">
      BindFigma
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/bindsympli/" title="BindSympli" class="md-nav__link">
      BindSympli
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/blockdiag/" title="Blockdiag" class="md-nav__link">
      Blockdiag
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/confluence/" title="Confluence" class="md-nav__link">
      Confluence
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/csvtables/" title="CSVTables" class="md-nav__link">
      CSVTables
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/customids/" title="CustomIDs" class="md-nav__link">
      CustomIDs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/dbmldoc/" title="DBMLDoc" class="md-nav__link">
      DBMLDoc
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/dbdoc/" title="DBDoc" class="md-nav__link">
      DBDoc
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/elasticsearch/" title="Elasticsearch" class="md-nav__link">
      Elasticsearch
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/epsconvert/" title="Epsconvert" class="md-nav__link">
      Epsconvert
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/escapecode/" title="EscapeCode and UnescapeCode" class="md-nav__link">
      EscapeCode and UnescapeCode
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/flags/" title="Flags" class="md-nav__link">
      Flags
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/flatten/" title="Flatten" class="md-nav__link">
      Flatten
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/glossary/" title="Glossary" class="md-nav__link">
      Glossary
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/graphviz/" title="Graphviz" class="md-nav__link">
      Graphviz
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/history/" title="History" class="md-nav__link">
      History
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/imagemagick/" title="ImageMagick" class="md-nav__link">
      ImageMagick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/imgcaptions/" title="ImgCaptions" class="md-nav__link">
      ImgCaptions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/imgconvert/" title="ImgConvert" class="md-nav__link">
      ImgConvert
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/includes/" title="Includes" class="md-nav__link">
      Includes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/macros/" title="Macros" class="md-nav__link">
      Macros
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/mermaid/" title="Mermaid" class="md-nav__link">
      Mermaid
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/metagraph/" title="MetaGraph" class="md-nav__link">
      MetaGraph
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/multilinetables/" title="MultilineTables" class="md-nav__link">
      MultilineTables
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/pgsqldoc/" title="Pgsqldoc" class="md-nav__link">
      Pgsqldoc
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/plantuml/" title="Plantuml" class="md-nav__link">
      Plantuml
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/ramldoc/" title="RAMLDoc" class="md-nav__link">
      RAMLDoc
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/removeexcess/" title="RemoveExcess" class="md-nav__link">
      RemoveExcess
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/replace/" title="Replace" class="md-nav__link">
      Replace
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/repolink/" title="RepoLink" class="md-nav__link">
      RepoLink
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/runcommands/" title="RunCommands" class="md-nav__link">
      RunCommands
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/showcommits/" title="ShowCommits" class="md-nav__link">
      ShowCommits
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/superlinks/" title="SuperLinks" class="md-nav__link">
      SuperLinks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/swaggerdoc/" title="SwaggerDoc" class="md-nav__link">
      SwaggerDoc
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/templateparser/" title="TemplateParser" class="md-nav__link">
      TemplateParser
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/testrail/" title="Testrail" class="md-nav__link">
      Testrail
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      CLI Extensions
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        CLI Extensions
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../cli/bump/" title="Bump" class="md-nav__link">
      Bump
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cli/gupload/" title="Gupload" class="md-nav__link">
      Gupload
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cli/meta_generate/" title="Meta Generate" class="md-nav__link">
      Meta Generate
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cli/init/" title="Init" class="md-nav__link">
      Init
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11-5" type="checkbox" id="nav-11-5">
    
    <label class="md-nav__link" for="nav-11-5">
      Init Templates
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-11-5">
        Init Templates
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../cli/init/templates/preprocessor/" title="Preprocessor" class="md-nav__link">
      Preprocessor
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cli/src/" title="Src" class="md-nav__link">
      Src
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cli/subset/" title="Subset" class="md-nav__link">
      Subset
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      Config Extensions
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        Config Extensions
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../config/alt_structure/" title="AltStructure" class="md-nav__link">
      AltStructure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../config/from/" title="MultiProject" class="md-nav__link">
      MultiProject
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../config/slugs/" title="Slugs" class="md-nav__link">
      Slugs
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../releases/" title="History of Releases" class="md-nav__link">
      History of Releases
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#notes-on-docker-use" class="md-nav__link">
    Notes on Docker Use
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-foliant-in-the-debug-mode" class="md-nav__link">
    Running Foliant in the Debug Mode
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-pre-backend-and-target-and-keeping-the-working-directory" class="md-nav__link">
    The pre Backend and Target, and Keeping the Working Directory
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#killing-two-birds-with-one-stone" class="md-nav__link">
    Killing Two Birds With One Stone
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/foliant-docs/docs/edit/master/src/debugging_builds.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="debugging-builds">Debugging Builds<a class="headerlink" href="#debugging-builds" title="Permanent link">&para;</a></h1>
<p>Building simple documentation projects with Foliant is usually straightforward. But Foliant and its extensions are designed to build complex projects. Foliant with its extensions is a powerful, customizable, and very flexible tool. If you understand what do you exactly want to do, and you can formalize it at the project config level, Foliant will perform your task efficiently and accurately.</p>
<p>The problem is that it sometimes may be difficult to configure all preprocessors and backends correctly for the first time. Some settings are pretty subtle and unobvious. The order of applying the preprocessors matters. Some preprocessors may work unexpectedly when paired with others. It may be necessary to apply some preprocessor twice—before and after some another preprocessor. Fetching data from external sources may also become a bottleneck.</p>
<p>Fortunately, Foliant will not ask you to diagnose problems with the car engine without opening the hood. Foliant provides advanced diagnostic facilities such as the following:</p>
<ul>
<li>detailed event logging in the special debug mode;</li>
<li>the backend <code>pre</code> that does nothing, i.e. does not convert preprocessed Markdown into any target;</li>
<li>keeping the temporary working directory that is used during builds, for further analysis.</li>
</ul>
<h2 id="notes-on-docker-use">Notes on Docker Use<a class="headerlink" href="#notes-on-docker-use" title="Permanent link">&para;</a></h2>
<p>In this documentation, examples of shell commands in most cases represent the native use of Foliant, i.e. as an applicaion that is installed directly on your local operating system.</p>
<p>In practice, Foliant is more commonly used with Docker. Public images of Foliant with different sets of extensions are available <a href="https://hub.docker.com/r/foliant/foliant">at Docker Hub</a>. The actual tags are:</p>
<ul>
<li><code>slim</code> — minimal image of Foliant with no extensions;</li>
<li><code>latest</code> — same as <code>slim</code> but with the <code>foliant init</code> command support;</li>
<li><code>pandoc</code> — image of Foliant with Pandoc backend, Pandoc itself, and LaTeX (<code>texlive-full</code> Ubuntu package);</li>
<li><code>full</code> — most complete image of Foliant with all released extensions and dependencies required for them.</li>
</ul>
<p>You can find Dockerfiles for each image in <a href="https://github.com/foliant-docs/docker/">this GitHub repository</a>.</p>
<p>If you need to build PDFs with Pandoc/LaTeX, and some additional functionality is required, e.g. drawing diagrams with PlantUML, it’s recommended to use the image with the tag <code>full</code>. This image is widely used, frequently updated, and well supported.</p>
<p>To get or update the Foliant Docker image, run the command:</p>
<div class="codehilite"><pre><span></span><code>$ docker pull foliant/foliant:full
</code></pre></div>


<p>It’s not necessary but recommended to use <a href="https://docs.docker.com/compose/">Docker Compose</a> utility to build images for Foliant projects and run containers based on them.</p>
<p>To prepare your Foliant project to be built within Docker container, add the files <code>Dockerfile</code> and <code>docker-compose.yml</code> into the project’s “root” directory.</p>
<p>If you decided to use the image with the <code>full</code> tag, the content of <code>Dockerfile</code> should be the following:</p>
<div class="codehilite"><pre><span></span><code><span class="err">FROM foliant/foliant:full</span>
</code></pre></div>


<p>The file <code>docker-compose.yml</code> should define the <code>foliant</code> service in this way:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">version</span><span class="p">:</span> <span class="s">&#39;3&#39;</span>

<span class="nt">services</span><span class="p">:</span>
  <span class="nt">foliant</span><span class="p">:</span>
    <span class="nt">build</span><span class="p">:</span>
      <span class="nt">context</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">./</span>
      <span class="nt">dockerfile</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">./Dockerfile</span>
    <span class="nt">volumes</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">./:/usr/src/app/</span>
</code></pre></div>


<p>For debug purposes, it’s useful to add one more service, <code>bash</code>, to run containers with an interactive shell. Recommended full content of the file <code>docker-compose.yml</code> is the following:</p>
<div class="codehilite"><pre><span></span><code><span class="k">version</span><span class="p">:</span> <span class="s1">&#39;3&#39;</span>

<span class="n">services</span><span class="p">:</span>
  <span class="n">foliant</span><span class="p">:</span>
    <span class="n">build</span><span class="p">:</span>
      <span class="n">context</span><span class="p">:</span> <span class="p">.</span><span class="o">/</span>
      <span class="n">dockerfile</span><span class="p">:</span> <span class="p">.</span><span class="o">/</span><span class="n">Dockerfile</span>
    <span class="n">volumes</span><span class="p">:</span>
      <span class="o">-</span> <span class="p">.</span><span class="o">/</span><span class="p">:</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">app</span><span class="o">/</span>
  <span class="n">bash</span><span class="p">:</span>
    <span class="n">build</span><span class="p">:</span>
      <span class="n">context</span><span class="p">:</span> <span class="p">.</span><span class="o">/</span>
      <span class="n">dockerfile</span><span class="p">:</span> <span class="p">.</span><span class="o">/</span><span class="n">Dockerfile</span>
    <span class="n">volumes</span><span class="p">:</span>
      <span class="o">-</span> <span class="p">.</span><span class="o">/</span><span class="p">:</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">app</span><span class="o">/</span>
    <span class="n">entrypoint</span><span class="p">:</span> <span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">bash</span>
</code></pre></div>


<p>To run Foliant project build, first, you have to build an image for the project:</p>
<div class="codehilite"><pre><span></span><code>$ docker-compose build
</code></pre></div>


<p>This command should be executed in the project’s “root” directory.</p>
<p>The image for the project should be rebuilt after pulling a newer version of Foliant image. Also, if you use a custom <code>Dockerfile</code>, and some local files are mentioned in it, the image for the project should be rebuilt after any updates of these files.</p>
<p>To perform the project build with Foliant, run the command like the following:</p>
<div class="codehilite"><pre><span></span><code>$ docker-compose run --rm foliant make &lt;target&gt; --with &lt;backend&gt;
</code></pre></div>


<p>You need to specify the certain target and the certain backend. So, if you want to build PDF with Pandoc, the command should be:</p>
<div class="codehilite"><pre><span></span><code>$ docker-compose run --rm foliant make pdf --with pandoc
</code></pre></div>


<p>This command corresponds to the native command:</p>
<div class="codehilite"><pre><span></span><code>$ foliant make pdf --with pandoc
</code></pre></div>


<p>Note that by default the commands within Docker containers run as root. So, after running a container, you can get some files owned by root in your local file system. To avoid this, run commands inside Docker containers as a user with the user ID and group ID of your local user on the host machine:</p>
<div class="codehilite"><pre><span></span><code>$ docker-compose run --user<span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span>id -u<span class="k">)</span><span class="s2">:</span><span class="k">$(</span>id -g<span class="k">)</span><span class="s2">&quot;</span> --rm foliant make pdf --with pandoc
</code></pre></div>


<p>If you described the service <code>bash</code> in your <code>docker-compose.yml</code> file, you may run a container based on the project’s image, with an interactive shell. To open shell for root, run:</p>
<div class="codehilite"><pre><span></span><code>$ docker-compose run --rm bash
</code></pre></div>


<p>To open shell for a user with the same user ID and group ID as your current user on the host machine:</p>
<div class="codehilite"><pre><span></span><code>$ docker-compose run --user<span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span>id -u<span class="k">)</span><span class="s2">:</span><span class="k">$(</span>id -g<span class="k">)</span><span class="s2">&quot;</span> --rm bash
</code></pre></div>


<p>All examples below will represent native commands. Add <code>docker-compose run --rm</code> or <code>docker-compose run --user="$(id -u):$(id -g)" --rm</code> to their beginnings to run the corresponding commands within Docker containers.</p>
<h2 id="running-foliant-in-the-debug-mode">Running Foliant in the Debug Mode<a class="headerlink" href="#running-foliant-in-the-debug-mode" title="Permanent link">&para;</a></h2>
<p>The usual command to build some target with some backend, <code>foliant make &lt;target&gt; --with &lt;backend&gt;</code>, runs Foliant in the regular mode. In this mode, Foliant and its extensions will log only events of the levels <code>critical</code>, <code>error</code>, and <code>warning</code>. Normally, there should not be critical cases (i.e. fatal crashes) and errors (they mean, for example, fails of some preprocessors, unavailability of some external services, etc.). Warnings are almost acceptable. Some preprocessors generate large numbers of specific warnings, and such behavior doesn’t mean that something is wrong.</p>
<p>Foliant provides the <code>--debug</code> or <code>-d</code> command line option that enables the debug mode. In the debug mode, Foliant and its extensions also log events of the levels <code>debug</code> and <code>info</code>. How detailed the logging of such events is, depends on the implementation of a particular extension. Complex preprocessors like Includes usually log their actions in great detail. Usually the messages of the <code>info</code> level are informative: they indicate, for example, the beginning of some preprocessor’s work. The messages with the <code>debug</code> level generally show the status of atomic operations, e.g. reading data from the certain file. These messages often contain the values of variables that are important in this context: paths to files, external commands that are called, etc.</p>
<p>The variant of the command that tells Foliant to build PDF with Pandoc in the debug mode, looks like:</p>
<div class="codehilite"><pre><span></span><code>$ foliant make pdf --with pandoc --debug
</code></pre></div>


<p>Log files will be written to the project’s “root” directory with names <code>*.log</code>, where <code>*</code> represents UNIX timestamps of the moments when the certain files were created. We were asked to implement optional overriding of logs location—it will be done in future release of Foliant Core. But it’s so easy to move logs to any custom place with a simple shell script; fixed location of logs is a really imaginary inconvenience!</p>
<p>Each log is a text file that contains a number of lines (records). Each record represents a single event and consists of 4 separated fields:</p>
<ul>
<li>date and time of registration of the event;</li>
<li>context (“place,” module) that the event is registered in;</li>
<li>event log level: one of <code>CRITICAL</code>, <code>ERROR</code>, <code>WARNING</code>, <code>DEBUG</code>, <code>INFO</code>;</li>
<li>message text that explains the essence of the event.</li>
</ul>
<p>For example, the first record of a log is usually looks like that:</p>
<div class="codehilite"><pre><span></span><code><span class="err">2020-06-25 09:40:54,419 |                  flt |     INFO | Build started.</span>
</code></pre></div>


<p>The string <code>flt</code> in the second field means Foliant itself, i.e. Foliant Core.</p>
<p>The context is hierarchical. The following record represents an event that is registered in the preprocessor Includes that is called from the preprocessor Flatten, that is called during project build with Pandoc backend.</p>
<div class="codehilite"><pre><span></span><code><span class="err">2020-06-25 09:40:54,678 | flt.pandoc.flatten.includes |    DEBUG | Processing Markdown file: /usr/src/app/__folianttmp__/__all__.md</span>
</code></pre></div>


<p>In this example, the message text contains the path to the file that is currently processed.</p>
<p>In the next example, Pandoc backend logs the external command that is called to build needed target:</p>
<div class="codehilite"><pre><span></span><code><span class="err">2020-06-25 09:40:54,684 |           flt.pandoc |    DEBUG | PDF generation command: pandoc --template=&quot;/foliant_stuff/pandoc_templates/tex_templates/main.tex&quot; --output &quot;My_Awesome_Project-1.0-2020-06-25.pdf&quot; --variable title=&quot;My Awesome Project&quot; --variable version=&quot;1.0&quot; --variable subtitle=&quot;Description Of My Awesome Project&quot; --variable logo=&quot;/foliant_stuff/pandoc_templates/logos/logo.png&quot; --variable year=&quot;2020&quot; --variable title_page --variable toc --variable tof  --pdf-engine=xelatex --listings -f markdown __folianttmp__/__all__.md</span>
</code></pre></div>


<p>If you suspect that the command executes wrong, you can copy it and try to run directly in an interactive shell.</p>
<p>Detailed logging in the debug mode allows you to quickly localize problems accurate to a specific Foliant extension, specific source Markdown file, specific syntax construction, and solve them with minimal time.</p>
<h2 id="the-pre-backend-and-target-and-keeping-the-working-directory">The <code>pre</code> Backend and Target, and Keeping the Working Directory<a class="headerlink" href="#the-pre-backend-and-target-and-keeping-the-working-directory" title="Permanent link">&para;</a></h2>
<p>Every Foliant backend takes preprocessed Markdown content and passes it to an external command. So it would be nice to see what content the backend gets, and how the backend additionally modifies this content.</p>
<p>During build, source files of Foliant project are moved to the temporary working directory. By default, it is called <code>__folianttmp__/</code> and located in the “root” directory of the project. Source files of the project are kept unchanged. Any transformations are applied only to the files located in the temporary working directory.</p>
<p>Foliant Core provides the built-in backend <code>pre</code> that does nothing. More precisely, this backend makes the <code>pre</code> target. The <code>pre</code> target is obtained simply by copying the temporary working directory to the project directory as the result of build.</p>
<p>The <code>pre</code> target is the content that comes after all preprocessors are applied, but before any backend of another kind than <code>pre</code> is called.</p>
<p>If the backend is not the location of your problem, and your problem occurs in an extension of another type (most often in a preprocessor), you don’t need to wait each time when the backend will complete to make the requested target.</p>
<p>The <code>pre</code> target is convenient for debugging extensions of all types excluding backends, and especially preprocessors.</p>
<p>To build Foliant project to the <code>pre</code> target, run the command:</p>
<div class="codehilite"><pre><span></span><code>$ foliant make pre
</code></pre></div>


<p>In additional to the <code>pre</code> backend and target, Foliant Core supports the <code>--keep_tmp</code> or <code>-k</code> command line option. By default, the temporary working directory is removed after the project build. But if the <code>--keep_tmp</code> or <code>-k</code> option is specified, the temporary working directory will be kept after build.</p>
<p>After the project build, this directory will contain the files that are modified by all preprocessors and the chosen backend.</p>
<p>The following command tells Foliant to build PDF with Pandoc, keeping the temporary working directory after build:</p>
<div class="codehilite"><pre><span></span><code>$ foliant make pdf --with pandoc --keep_tmp
</code></pre></div>


<p>Tip: if Pandoc doesn’t make PDF due to errors in LaTeX markup, you can build the target <code>tex</code> and first debug the LaTeX source. Also, you may call Pandoc directly from the command line to build PDF from LaTeX source.</p>
<h2 id="killing-two-birds-with-one-stone">Killing Two Birds With One Stone<a class="headerlink" href="#killing-two-birds-with-one-stone" title="Permanent link">&para;</a></h2>
<p>Now you know what debugging facilities are provided by Foliant. But we strongly recommend you to make it a rule to start debugging Foliant projects with one universal shell command:</p>
<div class="codehilite"><pre><span></span><code>$ foliant make pre --debug
</code></pre></div>


<p>This command tells Foliant to build the <code>pre</code> target in the debug mode. And this is a very effective way to get closer to understanding what is wrong with your project.</p>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../config/" title="Project Configuration" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Project Configuration
              </span>
            </div>
          </a>
        
        
          <a href="../tutorials/full_docker/" title="Working Full Foliant Docker image" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Working Full Foliant Docker image
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/foliant-docs/foliant" target="_blank" rel="noopener" title="github" class="md-footer-social__link fa fa-github"></a>
    
      <a href="/docs/assets/foliant-docs.pdf" target="_blank" rel="noopener" title="file-pdf-o" class="md-footer-social__link fa fa-file-pdf-o"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.1.2",url:{base:".."}})</script>
      
    
  </body>
</html>