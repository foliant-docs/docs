



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/octopus-black-32.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.0">
    
    
      
        <title>Quickstart - Foliant</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.0284f74d.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.01803549.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
      <script src="../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:300,400,400i,700|PT+Mono&display=fallback">
        <style>body,input{font-family:"PT Sans","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"PT Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-120535275-2", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="rgba(0,-0,-0,-0.87)" data-md-color-accent="light-blue">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#quickstart" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Foliant" class="md-header-nav__button md-logo">
          
            <img src="../assets/octopus-white.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Foliant
            </span>
            <span class="md-header-nav__topic">
              
                Quickstart
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/foliant-docs/docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    foliant-docs/docs
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="Foliant" class="md-nav__button md-logo">
      
        <img src="../assets/octopus-white.svg" width="48" height="48">
      
    </a>
    Foliant
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/foliant-docs/docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    foliant-docs/docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Welcome to Foliant!" class="md-nav__link">
      Welcome to Foliant!
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../installation/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Quickstart
      </label>
    
    <a href="./" title="Quickstart" class="md-nav__link md-nav__link--active">
      Quickstart
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#create-new-project" title="Create New Project" class="md-nav__link">
    Create New Project
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-site" title="Build Site" class="md-nav__link">
    Build Site
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-pdf" title="Build Pdf" class="md-nav__link">
    Build Pdf
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#edit-content" title="Edit Content" class="md-nav__link">
    Edit Content
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-preprocessors" title="Use Preprocessors" class="md-nav__link">
    Use Preprocessors
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#embed-diagrams-with-blockdiag" title="Embed Diagrams with Blockdiag" class="md-nav__link">
    Embed Diagrams with Blockdiag
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Backends
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Backends
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../backends/mkdocs/" title="MkDocs" class="md-nav__link">
      MkDocs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../backends/pandoc/" title="Pandoc" class="md-nav__link">
      Pandoc
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../backends/slate/" title="Slate" class="md-nav__link">
      Slate
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Preprocessors
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Preprocessors
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/general_notes/" title="General Notes" class="md-nav__link">
      General Notes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/admonitions/" title="Admonitions" class="md-nav__link">
      Admonitions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/anchors/" title="Anchors" class="md-nav__link">
      Anchors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/apilinks/" title="APILinks" class="md-nav__link">
      APILinks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/badges/" title="Badges" class="md-nav__link">
      Badges
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/bindsympli/" title="BindSympli" class="md-nav__link">
      BindSympli
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/blockdiag/" title="Blockdiag" class="md-nav__link">
      Blockdiag
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/csvtables/" title="CSVTables" class="md-nav__link">
      CSVTables
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/customids/" title="CustomIDs" class="md-nav__link">
      CustomIDs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/epsconvert/" title="Epsconvert" class="md-nav__link">
      Epsconvert
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/flags/" title="Flags" class="md-nav__link">
      Flags
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/flatten/" title="Flatten" class="md-nav__link">
      Flatten
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/graphviz/" title="Graphviz" class="md-nav__link">
      Graphviz
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/imagemagick/" title="ImageMagick" class="md-nav__link">
      ImageMagick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/imgcaptions/" title="ImgCaptions" class="md-nav__link">
      ImgCaptions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/includes/" title="Includes" class="md-nav__link">
      Includes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/macros/" title="Macros" class="md-nav__link">
      Macros
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/multilinetables/" title="MultilineTables" class="md-nav__link">
      MultilineTables
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/pgsqldoc/" title="Pgsqldoc" class="md-nav__link">
      Pgsqldoc
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/plantuml/" title="Plantuml" class="md-nav__link">
      Plantuml
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/replace/" title="Replace" class="md-nav__link">
      Replace
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/repolink/" title="RepoLink" class="md-nav__link">
      RepoLink
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/runcommands/" title="RunCommands" class="md-nav__link">
      RunCommands
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/swaggerdoc/" title="SwaggerDoc" class="md-nav__link">
      SwaggerDoc
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/templateparser/" title="TemplateParser" class="md-nav__link">
      TemplateParser
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocessors/testrail/" title="Testrail" class="md-nav__link">
      Testrail
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      CLI Extensions
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        CLI Extensions
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../cli/bump/" title="Bump" class="md-nav__link">
      Bump
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cli/gupload/" title="Gupload" class="md-nav__link">
      Gupload
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cli/meta/" title="Meta" class="md-nav__link">
      Meta
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cli/project_graph/" title="ProjectGraph" class="md-nav__link">
      ProjectGraph
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cli/init/" title="Init" class="md-nav__link">
      Init
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-6" type="checkbox" id="nav-6-6">
    
    <label class="md-nav__link" for="nav-6-6">
      Init Templates
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-6">
        Init Templates
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../cli/init/templates/preprocessor/" title="Preprocessor" class="md-nav__link">
      Preprocessor
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cli/src/" title="Src" class="md-nav__link">
      Src
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cli/subset/" title="Subset" class="md-nav__link">
      Subset
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Config Extensions
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Config Extensions
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../config/from/" title="MultiProject" class="md-nav__link">
      MultiProject
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../config/slugs/" title="Slugs" class="md-nav__link">
      Slugs
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#create-new-project" title="Create New Project" class="md-nav__link">
    Create New Project
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-site" title="Build Site" class="md-nav__link">
    Build Site
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-pdf" title="Build Pdf" class="md-nav__link">
    Build Pdf
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#edit-content" title="Edit Content" class="md-nav__link">
    Edit Content
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-preprocessors" title="Use Preprocessors" class="md-nav__link">
    Use Preprocessors
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#embed-diagrams-with-blockdiag" title="Embed Diagrams with Blockdiag" class="md-nav__link">
    Embed Diagrams with Blockdiag
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/foliant-docs/docs/edit/master/src/quickstart.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="quickstart">Quickstart<a class="headerlink" href="#quickstart" title="Permanent link">&para;</a></h1>
<p>In this tutorial, you’ll learn how to use Foliant to build websites and pdf documents from a single Markdown source. You’ll also learn how to use Foliant preprocessors.</p>
<h2 id="create-new-project">Create New Project<a class="headerlink" href="#create-new-project" title="Permanent link">&para;</a></h2>
<p>All Foliant projects must adhere to a certain structure. Luckily, you don’t have to memorize it thanks to <a href="cli/init.md">Init</a> extension.</p>
<p>You should have installed it during <a href="../installation/">Foliant installation</a> and it’s included in Foliant’s default Docker image.</p>
<p>To use it, run <code>foliant init</code> command:</p>
<div class="codehilite"><pre><span></span>$ foliant init
Enter the project name: Hello Foliant
✔ Generating Foliant project
─────────────────────
Project <span class="s2">&quot;Hello Foliant&quot;</span> created in hello-foliant
</pre></div>


<p>To do the same with Docker, run:</p>
<div class="codehilite"><pre><span></span>$ docker run --rm -it -v <span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>:/usr/app/src -w /usr/app/src foliant/foliant init
Enter the project name: Hello Foliant
✔ Generating Foliant project
─────────────────────
Project <span class="s2">&quot;Hello Foliant&quot;</span> created in hello-foliant
</pre></div>


<p>Here’s what this command created:</p>
<div class="codehilite"><pre><span></span>$ <span class="nb">cd</span> hello-foliant
$ tree
.
├── docker-compose.yml
├── Dockerfile
├── foliant.yml
├── README.md
├── requirements.txt
└── src
    └── index.md

<span class="m">1</span> directory, <span class="m">6</span> files
</pre></div>


<p><code>foliant.yml</code> is your project’s config file.</p>
<p><code>src</code> directory is where the content of the project lives. Currently, there’s just one file <code>index.md</code>.</p>
<p><code>requirements.txt</code> lists  the Python packages required for the project: Foliant backends and preprocessors, MkDocs themes, and what not. The the Docker image for the project is built, these requirements are installed in it.</p>
<p><code>Dockerfile</code> and <code>docker-compose.yml</code> are necessary to build the project in a Docker container.</p>
<h2 id="build-site">Build Site<a class="headerlink" href="#build-site" title="Permanent link">&para;</a></h2>
<p>In the project directory, run:</p>
<div class="codehilite"><pre><span></span>$ foliant make site
✔ Parsing config
✔ Applying preprocessor mkdocs
✔ Making site with MkDocs
─────────────────────
Result: Hello_Foliant-2018-01-23.mkdocs
</pre></div>


<p>Or, with Docker Compose:</p>
<div class="codehilite"><pre><span></span>$ docker-compose run --rm hello-foliant make site
✔ Parsing config
✔ Applying preprocessor mkdocs
✔ Making site with MkDocs
─────────────────────
Result: Hello_Foliant-2018-01-23.mkdocs
</pre></div>


<p>That’s it! Your static, MkDocs-powered website is ready. To view it, use any web server, for example, Python’s built-in one:</p>
<div class="codehilite"><pre><span></span>$ <span class="nb">cd</span> Hello_Foliant-2018-01-23.mkdocs
$ python -m http.server
Serving HTTP on <span class="m">0</span>.0.0.0 port <span class="m">8000</span> <span class="o">(</span>http://0.0.0.0:8000/<span class="o">)</span> ...
</pre></div>


<p>Open <a href="http://localhost:8000">localhost:8000</a> in your web browser. You should see something like this:</p>
<p><img alt="Basic Foliant project built with MkDocs" src="../images/basic-mkdocs.png" /></p>
<h2 id="build-pdf">Build Pdf<a class="headerlink" href="#build-pdf" title="Permanent link">&para;</a></h2>
<blockquote>
<p><strong>Note</strong></p>
<p>To build pdfs with Pandoc, make sure you have it and TeXLive installed (see <a href="../installation/">Installation</a>).</p>
</blockquote>
<p>In the project directory, run:</p>
<div class="codehilite"><pre><span></span>$ foliant make pdf
✔ Parsing config
✔ Applying preprocessor flatten
✔ Making pdf with Pandoc
─────────────────────
Result: Hello_Foliant-2018-01-23.pdf
</pre></div>


<p>To build pdf in Docker container, first uncomment <code>foliant/foliant:pandoc</code> in your project’s <code>Dockerfile</code>:</p>
<div class="codehilite"><pre><span></span><span class="gd">- FROM foliant/foliant</span>
<span class="gi">+ # FROM foliant/foliant</span>
# If you plan to bake PDFs, uncomment this line and comment the line above:
<span class="gd">- # FROM foliant/foliant:pandoc</span>
<span class="gi">+ FROM foliant/foliant:pandoc</span>

COPY requirements.txt .

RUN pip3 install -r requirements.txt
</pre></div>


<blockquote>
<p><strong>Note</strong></p>
<p>Run <code>docker-compose build</code> to rebuild the image from the new base image if you have previously run <code>docker-compose run</code> with the old one. Also, run it whenever you need to update the versions of the required packages from <code>requirements.txt</code>.</p>
</blockquote>
<p>Then, run this command in the project directory:</p>
<div class="codehilite"><pre><span></span>$ docker-compose run --rm hello-foliant make pdf
✔ Parsing config
✔ Applying preprocessor flatten
✔ Making pdf with Pandoc
─────────────────────
Result: Hello_Foliant-2018-01-23.pdf
</pre></div>


<p>Your standalone pdf documentation is ready! It should look something like this:</p>
<p><img alt="Basic Foliant project built with Pandoc" src="../images/basic-pdf.png" /></p>
<h2 id="edit-content">Edit Content<a class="headerlink" href="#edit-content" title="Permanent link">&para;</a></h2>
<p>Your project’s content lives in <code>*.md</code> files in <code>src</code> folder. You can split it between multiple files and subfolders.</p>
<p>Foliant encourages <a href="https://daringfireball.net/projects/markdown/">pure Markdown</a> syntax as described by John Gruber. Pandoc, MkDocs, and other backend-specific additions are allowed, but we strongly recommend to put them in <a href="../preprocessors/flags/"><code>&lt;if&gt;&lt;/if&gt;</code> blocks</a>.</p>
<p>Create a file <code>hello.md</code> in <code>src</code> with the following content:</p>
<div class="codehilite"><pre><span></span><span class="o">#</span> <span class="n">Hello</span> <span class="n">Again</span>

<span class="n">This</span> <span class="k">is</span> <span class="n">regular</span> <span class="nb">text</span> <span class="k">generated</span> <span class="k">from</span> <span class="n">regular</span> <span class="n">Markdown</span><span class="p">.</span>

<span class="n">Foliant</span> <span class="n">doesn</span><span class="err">’</span><span class="n">t</span> <span class="k">force</span> <span class="k">any</span> <span class="o">*</span><span class="n">special</span><span class="o">*</span> <span class="n">Markdown</span> <span class="n">flavor</span><span class="p">.</span>
</pre></div>


<p>Open <code>foliant.yml</code> and add <code>hello.md</code> to <code>chapters</code>:</p>
<div class="codehilite"><pre><span></span>title: Hello Foliant

chapters:
  - index.md
<span class="gi">+ - hello.md</span>
</pre></div>


<p>Rebuild the project to see the new page:</p>
<div class="codehilite"><pre><span></span>$ docker-compose run --rm hello-foliant make site <span class="o">&amp;&amp;</span> docker-compose run --rm hello-foliant make pdf
✔ Parsing config
✔ Applying preprocessor mkdocs
✔ Making site with MkDocs
─────────────────────
Result: Hello_Foliant-2018-02-08.mkdocs
✔ Parsing config
✔ Applying preprocessor flatten
✔ Making pdf with Pandoc
─────────────────────
Result: Hello_Foliant-2018-02-08.pdf
</pre></div>


<p>And see the new page appear on the site and in the pdf document:</p>
<p><img alt="New page on the site" src="../images/basic-mkdocs-hello.png" /></p>
<p><img alt="New page in the pdf document" src="../images/basic-pdf-hello.png" /></p>
<h2 id="use-preprocessors">Use Preprocessors<a class="headerlink" href="#use-preprocessors" title="Permanent link">&para;</a></h2>
<p>Preprocessors is what makes Foliant special and extremely useful. Preprocessors are additional packages that, well, preprocess the source code of your project. You can do all kinds of stuff with preprocessors:</p>
<ul>
<li>include remote Markdown files or their parts in the source files</li>
<li>render diagrams from textual description on build</li>
<li>restructure the project source or compile it into a single file for a particular backend</li>
</ul>
<p>In fact, you have already used two preprocessors! Check the output of the <code>foliant make</code> commands and note the lines <code>✔ Applying preprocessor mkdocs</code> and <code>✔ Applying preprocessor flatten</code>. The first one informs you that the project source has been preprocessed with <code>mkdocs</code> preprocessor in order to make it compatible with MkDocs’ requirements, and the second one tells you that <a href="../preprocessors/flatten/"><code>flatten</code></a> preprocessor was used to squash the project source into one a single file (because Pandoc only works with single files).</p>
<p>These preprocessors where called by MkDocs and Pandoc backends respectively. You didn’t have to install or activate them explicitly.</p>
<p>Now, let’s try to use a different kind of preprocessors, the ones that register new tags: <a href="../preprocessors/blockdiag/">Blockdiag</a>.</p>
<h3 id="embed-diagrams-with-blockdiag">Embed Diagrams with Blockdiag<a class="headerlink" href="#embed-diagrams-with-blockdiag" title="Permanent link">&para;</a></h3>
<p><a href="http://blockdiag.com">Blockdiag</a> is a Python app for generating diagrams. Blockdiag preprocessor extracts diagram descriptions from the project source and replaces them with the generated images.</p>
<p>In <code>hello.md</code>, add the following lines:</p>
<div class="codehilite"><pre><span></span>Foliant doesn’t force any *special* Markdown flavor.

<span class="gi">+ &lt;seqdiag caption=&quot;This diagram is generated on the fly&quot;&gt;</span>
<span class="gi">+   seqdiag {</span>
<span class="gi">+     &quot;foliant make site&quot; -&gt; &quot;mkdocs preprocessor&quot; -&gt; &quot;blockdiag preprocessor&quot; -&gt; &quot;mkdocs backend&quot; -&gt; site;</span>
<span class="gi">+   }</span>
<span class="gi">+ &lt;/seqdiag&gt;</span>
</pre></div>


<p>Blockdiag preprocessor adds several tags to Foliant, each corresponding to a certain diagram type. Sequence diagrams are defined with <code>&lt;seqdiag&gt;&lt;/seqdiag&gt;</code> tag. This is what we used in the sample above. The diagram definition sits in the tag body and the diagram properties such as caption or format are defined as tag parameters.</p>
<p>Rebuild the site with <code>foliant make site</code> and open it in the browser:</p>
<p><img alt="Sequence diagram drawn with seqdiag on the site" src="../images/basic-mkdocs-seqdiag.png" /></p>
<p>Rebuild the pdf as well and see that the diagram there:</p>
<p><img alt="Sequence diagram drawn with seqdiag in the pdf" src="../images/basic-pdf-seqdiag.png" /></p>
<p>Let’s customize the look of the diagrams in our project by setting their properties in the config file. For example, let’s use a custom font for labels. I’m using the ever popular Comic Sans font, but you can pick any font that’s available in <code>.ttf</code> format.</p>
<p>Put the font file in the project directory and add the following lines to <code>foliant.yml</code>:</p>
<div class="codehilite"><pre><span></span>preprocessors:
<span class="gd">-   - blockdiag</span>
<span class="gi">+   - blockdiag:</span>
<span class="gi">+       params:</span>
<span class="gi">+           font: !path comic.ttf</span>
</pre></div>


<p>After a rebuild, the diagram on the site and in the pdf should look like this:</p>
<p><img alt="Sequence diagram with Comic Sans in labels, site" src="../images/basic-mkdocs-seqdiag-comic.png" /></p>
<p><img alt="Sequence diagram with Comic Sans in labels, pdf" src="../images/basic-pdf-seqdiag-comic.png" /></p>
<p>There are many more params you can define for your diagrams. You can override global params for particluar diagrams in their tags. And by combining this preprocessor with <a href="../preprocessors/flags/">Flags</a> you can even set different params for different backends, for example build vector diagrams for pdf output and bitmap for site:</p>
<div class="codehilite"><pre><span></span><span class="nv">This</span> <span class="nv">is</span> <span class="nv">a</span> <span class="nv">diagram</span> <span class="nv">that</span> <span class="nv">is</span> <span class="nv">rendered</span> <span class="nv">to</span> `.<span class="nv">png</span>` <span class="nv">in</span> <span class="nv">html</span> <span class="nv">and</span> <span class="nv">to</span> `.<span class="nv">pdf</span>` <span class="nv">in</span> <span class="nv">pdf</span>:

<span class="o">&lt;&lt;</span><span class="nv">blockdiag</span> <span class="nv">format</span><span class="o">=</span><span class="s2">&quot;</span><span class="s">&lt;if targets=</span><span class="s2">&quot;</span><span class="nv">html</span><span class="s2">&quot;</span><span class="s">&gt;png&lt;/if&gt;&lt;&lt;if targets=</span><span class="s2">&quot;</span><span class="nv">pdf</span><span class="s2">&quot;</span><span class="s">&gt;pdf&lt;/if</span><span class="s2">&quot;</span><span class="o">&gt;</span>
    ...
<span class="o">&lt;/</span><span class="nv">blockdiag</span><span class="o">&gt;</span>
</pre></div>


<p>The possibilities acquired by combining different preprocessors are endless!</p>
<blockquote>
<p><strong>Why Foliant Uses XML syntax for Preprocessor Tags</strong></p>
<p>It’s common for Markdown-based tools to extend Markdown with custom syntax for additional functions. There’s no standard for custom syntax in the Markdown spec, so every developer uses whatever syntax is available for them, different one for every new extension.</p>
<p>In Foliant, we tried our best not to dive into this mess. Foliant aims to be an extensible platform, with many available preprocessors. So we needed one syntax for all preprocessors, but the one that was flexible enough to support them all.</p>
<p>After trying many options, we settled with XML. Yes, normally you’d have a nervous tick when you hear XML, and so would we, but this is one rare case where XML syntax belongs just right:</p>
<ul>
<li>it allows to provide tag body and named parameters</li>
<li>it’s familiar to every techwriter out there</li>
<li>it’s close enough to HTML, and HTML tags are actually allowed by the Markdown spec, so we’re not even breaking the vanilla Markdown spec (almost)</li>
<li>it’s nicely highlighted in IDEs and text editors</li>
</ul>
</blockquote>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../installation/" title="Installation" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Installation
              </span>
            </div>
          </a>
        
        
          <a href="../backends/mkdocs/" title="MkDocs" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                MkDocs
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/foliant-docs/foliant" class="md-footer-social__link fa fa-github"></a>
    
      <a href="/foliant/assets/foliant-docs.pdf" class="md-footer-social__link fa fa-file-pdf-o"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.245445c6.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>